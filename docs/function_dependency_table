| Function Name              | File Path                                 | What It Does                                                                                   | Calls / Uses                                                                                                  | Called By                                                                                         |
|---------------------------|-------------------------------------------|------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
| `connect_to_pulse()`      | `r/connect_to_pulse.R`                    | Opens a Postgres connection using env vars.                                                    | `DBI::dbConnect()`, `RPostgres::Postgres()`                                                                   | `run_pipeline()`, tests, `1_onboard_new_source.R` (indirectly via runner + pulse_launch)        |
| `load_pipeline_settings()`| `r/runner.R`                              | Loads pipeline settings including schemas and vocab from YAML.                                 | `yaml::read_yaml("config/pipeline_settings.yml")`                                                            | `run_pipeline()`                                                                                 |
| `get_pipeline_steps()`    | `r/runner.R`                              | Reads enabled pipeline steps from governance.pipeline_step in correct order.                   | `DBI::dbReadTable(con, DBI::Id(schema = settings$schemas$governance, table = "pipeline_step"))`, `dplyr`     | `run_pipeline()`                                                                                 |
| `execute_step()`          | `r/runner.R`                              | Executes a single pipeline step based on step_type and step_id.                                | `load_source_params()`, `run_step1_register_source()`, `do.call()`, `glue::glue()`, `dbExecute()`, `render()` | `run_pipeline()`                                                                                 |
| `run_pipeline()`          | `r/runner.R`                              | Orchestrates full pipeline for a given ingest_id, looping over enabled steps.                  | `connect_to_pulse()`, `load_pipeline_settings()`, `get_pipeline_steps()`, `execute_step()`                   | `pulse_launch()`, integration tests, manual console calls                                       |
| `validate_source_entry()` | `r/utilities/validate_source_entry.R`     | Validates required fields and controlled vocab for a candidate source.                         | `stop()` for invalid input; uses `settings` lists (system_type, update_frequency, etc.).                      | `register_source()`, unit tests                                                                 |
| `create_source_folders()` | `r/utilities/create_source_folders.R`     | Creates directory tree for a given source_id according to directory_structure.yml.             | `yaml::read_yaml()`, `fs::dir_create()`, `normalizePath()`, `glue::glue()`                                   | `register_source()` (for new sources), unit tests                                               |
| `write_audit_event()`     | `r/steps/write_audit_event.R`             | Writes an event row to governance.audit_log with JSON-encoded details.                         | `uuid::UUIDgenerate()`, `jsonlite::toJSON()`, `DBI::dbExecute()`, `dbGetQuery()`                             | `register_source()`, later steps (QC, harmonization, etc.), unit tests                          |
| `register_source()`       | `r/steps/register_source.R`               | Inserts/updates governance.source_registry, folder creation, and audit logging.                | `yaml::read_yaml()`, `validate_source_entry()`, `DBI::dbGetQuery()`, `DBI::dbExecute()`, `create_source_folders()`, `write_audit_event()` | `run_step1_register_source()`, unit tests, manual console calls                                |
| `write_pipeline_step()`   | `r/utilities/write_pipeline_step.R`       | Records or updates pipeline step metadata in governance.pipeline_step.                         | `DBI::dbExecute()` (parameterized or templated SQL)                                                          | `run_step1_register_source()`, later wrappers for other steps                                  |
| `run_step1_register_source()` | `r/steps/run_step1_register_source.R` | Step 1 wrapper: runs register_source() using source_params, then logs step in pipeline_step.   | `register_source()`, `write_pipeline_step()`                                                                 | `execute_step()` when `step_id == "STEP_001"`, unit tests                                      |
| `load_source_params()`    | `r/utilities/load_source_params.R`        | Loads YAML config for current source (source_params.yml) into a list.                          | `yaml::read_yaml("config/source_params.yml")`                                                                | `execute_step()` (for STEP_001), `pulse_launch()` (if needed), integration tests               |
| `pulse_launch()`          | `pulse-launch.R`                          | User-facing entrypoint that writes source_params.yml (optional) and kicks off run_pipeline().  | `yaml::write_yaml()` (if auto_write_params), `run_pipeline()`                                               | `1_onboard_new_source.R`, integration tests, future CLI wrappers                               |
| `1_onboard_new_source.R`* | `r/scripts/1_onboard_new_source.R`        | Script (not a function) that collects user inputs and calls pulse_launch().                    | `source("pulse-init-all.R")`, `source("pulse-launch.R")`, `pulse_launch()`                                   | Run interactively by humans when onboarding a new source                                       |
| `pulse-init-all.R`*       | `pulse-init-all.R`                        | Script (not a single function) that initializes environment, loads libs and step files.        | `library()`, `source()` for runner, utilities, steps                                                        | Called by `1_onboard_new_source.R`, could be used by future orchestration scripts              |